INFO 2025-12-14 19:41:43,730 autoreload Watching for file changes with StatReloader
INFO 2025-12-14 19:41:48,755 basehttp "OPTIONS /api/v1/admin-panel/users/?page=1&sort_by=created_at&order=desc HTTP/1.1" 200 0
INFO 2025-12-14 19:41:48,755 basehttp "OPTIONS /api/v1/admin-panel/auth/profile/ HTTP/1.1" 200 0
INFO 2025-12-14 19:41:50,625 basehttp "GET /api/v1/admin-panel/auth/profile/ HTTP/1.1" 200 301
INFO 2025-12-14 19:41:51,086 basehttp "GET /api/v1/admin-panel/users/?page=1&sort_by=created_at&order=desc HTTP/1.1" 200 510
INFO 2025-12-14 19:41:58,776 basehttp "OPTIONS /api/v1/auth/login HTTP/1.1" 200 0
INFO 2025-12-14 19:41:59,412 basehttp "POST /api/v1/auth/login HTTP/1.1" 200 689
INFO 2025-12-14 19:41:59,428 basehttp "OPTIONS /api/v1/auth/profile HTTP/1.1" 200 0
INFO 2025-12-14 19:42:01,127 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:42:02,090 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:42:02,096 basehttp "OPTIONS /api/v1/notifications?limit=5 HTTP/1.1" 200 0
INFO 2025-12-14 19:42:02,103 basehttp "OPTIONS /api/v1/notifications/?limit=5 HTTP/1.1" 200 0
INFO 2025-12-14 19:42:02,990 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:42:04,052 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:42:05,078 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:42:08,917 basehttp "OPTIONS /api/v1/stocks HTTP/1.1" 200 0
INFO 2025-12-14 19:42:08,918 basehttp "OPTIONS /api/v1/stocks HTTP/1.1" 200 0
INFO 2025-12-14 19:42:08,920 basehttp "OPTIONS /api/v1/stocks/ HTTP/1.1" 200 0
INFO 2025-12-14 19:42:08,920 basehttp "OPTIONS /api/v1/stocks/ HTTP/1.1" 200 0
INFO 2025-12-14 19:42:11,373 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1007
INFO 2025-12-14 19:42:13,942 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1007
INFO 2025-12-14 19:42:20,661 basehttp "OPTIONS /api/v1/stocks/prices/daily?stock_id=2&days=30 HTTP/1.1" 200 0
INFO 2025-12-14 19:42:20,662 basehttp "OPTIONS /api/v1/stocks/2 HTTP/1.1" 200 0
INFO 2025-12-14 19:42:20,662 basehttp "OPTIONS /api/v1/stocks/prices/daily?stock_id=2&days=30 HTTP/1.1" 200 0
INFO 2025-12-14 19:42:20,662 basehttp "OPTIONS /api/v1/stocks/2 HTTP/1.1" 200 0
INFO 2025-12-14 19:42:20,663 basehttp "OPTIONS /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 0
INFO 2025-12-14 19:42:20,664 basehttp "OPTIONS /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 0
INFO 2025-12-14 19:42:20,667 basehttp "OPTIONS /api/v1/stocks/2/ HTTP/1.1" 200 0
INFO 2025-12-14 19:42:20,668 basehttp "OPTIONS /api/v1/stocks/2/ HTTP/1.1" 200 0
INFO 2025-12-14 19:42:23,051 basehttp "GET /api/v1/stocks/2/ HTTP/1.1" 200 369
INFO 2025-12-14 19:42:23,550 basehttp "GET /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 97
INFO 2025-12-14 19:42:24,581 basehttp "GET /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 97
INFO 2025-12-14 19:42:26,162 basehttp "GET /api/v1/stocks/2/ HTTP/1.1" 200 369
INFO 2025-12-14 19:42:33,119 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1007
INFO 2025-12-14 19:42:35,822 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1007
INFO 2025-12-14 19:42:37,328 basehttp "OPTIONS /api/v1/admin-panel/dashboard/stats/ HTTP/1.1" 200 0
INFO 2025-12-14 19:42:46,947 basehttp "OPTIONS /api/v1/sync/trigger-normal/ HTTP/1.1" 200 0
INFO 2025-12-14 19:42:56,468 basehttp "GET /api/v1/admin-panel/auth/profile/ HTTP/1.1" 200 301
INFO 2025-12-14 19:43:06,410 basehttp "OPTIONS /api/v1/admin-panel/auth/login/ HTTP/1.1" 200 0
INFO 2025-12-14 19:43:07,053 basehttp "POST /api/v1/admin-panel/auth/login/ HTTP/1.1" 200 573
INFO 2025-12-14 19:43:07,183 basehttp "OPTIONS /api/v1/admin-panel/dashboard/stats/ HTTP/1.1" 200 0
INFO 2025-12-14 19:43:07,493 basehttp "GET /api/v1/admin-panel/auth/profile/ HTTP/1.1" 200 301
INFO 2025-12-14 19:43:08,408 basehttp "GET /api/v1/admin-panel/dashboard/stats/ HTTP/1.1" 200 167
INFO 2025-12-14 19:43:19,300 basehttp "OPTIONS /api/v1/sync/trigger-normal/ HTTP/1.1" 200 0
DEBUG 2025-12-14 19:43:19,996 functional 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

DEBUG 2025-12-14 19:43:19,999 functional 
def xmap(task, it):
    return 1

DEBUG 2025-12-14 19:43:19,999 functional 
def backend_cleanup():
    return 1

DEBUG 2025-12-14 19:43:20,000 functional 
def sync_sectors_task(is_auto=0, user_id=1, from_date=2, to_date=3):
    return 1

DEBUG 2025-12-14 19:43:20,000 functional 
def chain(*args, **kwargs):
    return 1

DEBUG 2025-12-14 19:43:20,000 functional 
def sync_stocks_task(is_auto=0, user_id=1, from_date=2, to_date=3, instruments=4):
    return 1

DEBUG 2025-12-14 19:43:20,001 functional 
def xstarmap(task, it):
    return 1

DEBUG 2025-12-14 19:43:20,001 functional 
def auto_sync_daily():
    return 1

DEBUG 2025-12-14 19:43:20,001 functional 
def accumulate(self, *args, **kwargs):
    return 1

DEBUG 2025-12-14 19:43:20,001 functional 
def sync_hard_task(sync_type, start_date, end_date, instruments=0, user_id=1):
    return 1

DEBUG 2025-12-14 19:43:20,002 functional 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

DEBUG 2025-12-14 19:43:20,002 functional 
def chunks(task, it, n):
    return 1

DEBUG 2025-12-14 19:43:20,002 functional 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

DEBUG 2025-12-14 19:43:21,493 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:21,513 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-02&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:24,207 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:24,210 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-03&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:27,072 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:27,075 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-04&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:29,525 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:29,527 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-05&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:31,962 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:31,964 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-06&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:34,419 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:34,420 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-07&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:37,062 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:37,066 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-08&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:39,619 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:39,620 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-09&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:42,166 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:42,169 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-10&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:45,891 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:45,894 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-11&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:48,350 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:48,352 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-12&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:50,946 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:50,948 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-13&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:53,735 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:53,738 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=HDFCBANK&date=2025-12-14&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:43:56,406 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:56,408 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-02&timewise=true HTTP/1.1" 200 None
INFO 2025-12-14 19:43:57,310 basehttp - Broken pipe from ('127.0.0.1', 55321)
INFO 2025-12-14 19:43:58,690 basehttp "OPTIONS /api/v1/admin-panel/database/tables/ HTTP/1.1" 200 0
DEBUG 2025-12-14 19:43:58,865 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:43:58,867 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-03&timewise=true HTTP/1.1" 200 None
INFO 2025-12-14 19:44:00,165 basehttp "GET /api/v1/admin-panel/auth/profile/ HTTP/1.1" 200 301
INFO 2025-12-14 19:44:00,967 basehttp "GET /api/v1/admin-panel/database/tables/ HTTP/1.1" 200 731
DEBUG 2025-12-14 19:44:01,373 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:01,375 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-04&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:44:03,846 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:03,847 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-05&timewise=true HTTP/1.1" 200 None
INFO 2025-12-14 19:44:05,137 basehttp "OPTIONS /api/v1/admin-panel/database/tables/stock_price_daily/ HTTP/1.1" 200 0
DEBUG 2025-12-14 19:44:06,301 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:06,303 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-06&timewise=true HTTP/1.1" 200 None
INFO 2025-12-14 19:44:07,870 basehttp "GET /api/v1/admin-panel/database/tables/stock_price_daily/ HTTP/1.1" 200 1377
DEBUG 2025-12-14 19:44:08,756 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:08,757 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-07&timewise=true HTTP/1.1" 200 None
INFO 2025-12-14 19:44:09,484 basehttp "OPTIONS /api/v1/admin-panel/database/query/ HTTP/1.1" 200 0
INFO 2025-12-14 19:44:10,299 basehttp "POST /api/v1/admin-panel/database/query/ HTTP/1.1" 200 2844
DEBUG 2025-12-14 19:44:11,245 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:11,248 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-08&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:44:13,703 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:13,705 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-09&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:44:16,475 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:16,476 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-10&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:44:19,675 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:19,676 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-11&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:44:22,116 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:22,119 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-12&timewise=true HTTP/1.1" 200 None
DEBUG 2025-12-14 19:44:24,697 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:24,698 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-13&timewise=true HTTP/1.1" 200 None
INFO 2025-12-14 19:44:24,819 basehttp "POST /api/v1/admin-panel/database/query/ HTTP/1.1" 200 3530
DEBUG 2025-12-14 19:44:27,165 connectionpool Starting new HTTP connection (1): localhost:8080
DEBUG 2025-12-14 19:44:27,166 connectionpool http://localhost:8080 "GET /api/v1/stock/data?symbol=TCS&date=2025-12-14&timewise=true HTTP/1.1" 200 None
INFO 2025-12-14 19:44:31,666 tasks Stock sync completed: 2/2 successful
INFO 2025-12-14 19:44:31,678 trace Task apps.sync.tasks.sync_stocks_task[d037d718-bee9-41a6-83ba-acc9f0f8ce35] succeeded in 71.67355362499984s: None
INFO 2025-12-14 19:44:31,678 basehttp "POST /api/v1/sync/trigger-normal/ HTTP/1.1" 202 228
INFO 2025-12-14 19:44:41,584 basehttp "POST /api/v1/admin-panel/database/query/ HTTP/1.1" 200 3806
INFO 2025-12-14 19:44:48,299 basehttp "OPTIONS /api/v1/admin-panel/config/ HTTP/1.1" 200 0
INFO 2025-12-14 19:44:51,509 basehttp "GET /api/v1/admin-panel/config/ HTTP/1.1" 200 1160
INFO 2025-12-14 19:44:59,104 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:45:04,039 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:45:05,889 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:45:09,742 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:45:10,650 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:45:10,868 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:45:12,426 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:45:13,536 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:45:21,570 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:45:26,219 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:46:20,272 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:46:21,298 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:46:22,903 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:46:23,960 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:46:36,116 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:46:38,701 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:47:46,268 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:47:47,125 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:47:48,759 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:47:49,800 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:47:53,227 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:47:55,838 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:48:04,889 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:48:07,099 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:48:09,535 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:48:31,126 basehttp "GET /api/v1/stocks/2/ HTTP/1.1" 200 399
INFO 2025-12-14 19:48:32,895 basehttp "GET /api/v1/stocks/2/ HTTP/1.1" 200 399
INFO 2025-12-14 19:48:35,293 basehttp "GET /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 4194
INFO 2025-12-14 19:48:41,391 basehttp "GET /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 4194
INFO 2025-12-14 19:48:53,861 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:48:54,697 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:48:56,655 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:48:57,067 basehttp "OPTIONS /api/v1/sectors/ HTTP/1.1" 200 0
INFO 2025-12-14 19:48:57,082 basehttp "OPTIONS /api/v1/stocks/categories/ HTTP/1.1" 200 0
INFO 2025-12-14 19:48:57,083 basehttp "OPTIONS /api/v1/sectors/ HTTP/1.1" 200 0
INFO 2025-12-14 19:48:57,088 basehttp "OPTIONS /api/v1/stocks/categories/ HTTP/1.1" 200 0
INFO 2025-12-14 19:48:57,365 basehttp "OPTIONS /api/v1/stocks/prices/daily/?start_date=2025-11-14&end_date=2025-12-14 HTTP/1.1" 200 0
INFO 2025-12-14 19:48:57,823 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:48:58,161 basehttp "GET /api/v1/sectors/ HTTP/1.1" 200 559
INFO 2025-12-14 19:48:59,200 basehttp "GET /api/v1/sectors/ HTTP/1.1" 200 559
INFO 2025-12-14 19:49:00,580 basehttp "GET /api/v1/stocks/categories/ HTTP/1.1" 200 376
INFO 2025-12-14 19:49:01,905 basehttp "GET /api/v1/stocks/categories/ HTTP/1.1" 200 376
INFO 2025-12-14 19:49:05,510 basehttp "GET /api/v1/stocks/prices/daily/?start_date=2025-11-14&end_date=2025-12-14 HTTP/1.1" 200 8263
INFO 2025-12-14 19:49:21,689 basehttp "OPTIONS /api/v1/options/contracts/?underlying_type=stock&underlying=RELIANCE HTTP/1.1" 200 0
INFO 2025-12-14 19:49:21,689 basehttp "OPTIONS /api/v1/options/contracts/?underlying_type=stock&underlying=RELIANCE HTTP/1.1" 200 0
ERROR 2025-12-14 19:49:24,135 log Internal Server Error: /api/v1/options/contracts/
Traceback (most recent call last):
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 99, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 67, in default
    return super().default(obj)
           ~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type Response is not JSON serializable
ERROR 2025-12-14 19:49:24,137 basehttp "GET /api/v1/options/contracts/?underlying_type=stock&underlying=RELIANCE HTTP/1.1" 500 108455
ERROR 2025-12-14 19:49:26,566 log Internal Server Error: /api/v1/options/contracts/
Traceback (most recent call last):
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/response.py", line 70, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 99, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 67, in default
    return super().default(obj)
           ~~~~~~~~~~~~~~~^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type Response is not JSON serializable
ERROR 2025-12-14 19:49:26,567 basehttp "GET /api/v1/options/contracts/?underlying_type=stock&underlying=RELIANCE HTTP/1.1" 500 108455
INFO 2025-12-14 19:49:26,909 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:49:28,950 basehttp "OPTIONS /api/v1/stocks/prices/daily?stock_symbol=HDFCBANK&start_date=2025-11-14&end_date=2025-12-14 HTTP/1.1" 200 0
INFO 2025-12-14 19:49:29,338 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:49:29,555 basehttp "GET /api/v1/stocks/prices/daily?stock_symbol=HDFCBANK&start_date=2025-11-14&end_date=2025-12-14 HTTP/1.1" 301 0
INFO 2025-12-14 19:49:29,559 basehttp "OPTIONS /api/v1/stocks/prices/daily/?stock_symbol=HDFCBANK&start_date=2025-11-14&end_date=2025-12-14 HTTP/1.1" 200 0
INFO 2025-12-14 19:49:38,215 basehttp "GET /api/v1/stocks/prices/daily/?stock_symbol=HDFCBANK&start_date=2025-11-14&end_date=2025-12-14 HTTP/1.1" 200 8263
INFO 2025-12-14 19:49:48,381 basehttp "OPTIONS /api/v1/backtest/runs HTTP/1.1" 200 0
INFO 2025-12-14 19:49:48,381 basehttp "OPTIONS /api/v1/backtest/runs HTTP/1.1" 200 0
INFO 2025-12-14 19:49:48,384 basehttp "OPTIONS /api/v1/backtest/runs/ HTTP/1.1" 200 0
INFO 2025-12-14 19:49:48,384 basehttp "OPTIONS /api/v1/backtest/runs/ HTTP/1.1" 200 0
INFO 2025-12-14 19:49:51,031 basehttp "GET /api/v1/backtest/runs/ HTTP/1.1" 200 97
INFO 2025-12-14 19:49:52,741 basehttp "OPTIONS /api/v1/strategies/predefined HTTP/1.1" 200 0
INFO 2025-12-14 19:49:52,741 basehttp "OPTIONS /api/v1/strategies/predefined HTTP/1.1" 200 0
INFO 2025-12-14 19:49:52,744 basehttp "OPTIONS /api/v1/strategies/predefined/ HTTP/1.1" 200 0
INFO 2025-12-14 19:49:52,744 basehttp "OPTIONS /api/v1/strategies/predefined/ HTTP/1.1" 200 0
INFO 2025-12-14 19:49:54,042 basehttp "GET /api/v1/backtest/runs/ HTTP/1.1" 200 97
INFO 2025-12-14 19:49:55,285 basehttp "GET /api/v1/strategies/predefined/ HTTP/1.1" 200 97
INFO 2025-12-14 19:49:55,290 basehttp "OPTIONS /api/v1/strategies/rule-based HTTP/1.1" 200 0
INFO 2025-12-14 19:49:55,296 basehttp "OPTIONS /api/v1/strategies/rule-based/ HTTP/1.1" 200 0
ERROR 2025-12-14 19:49:56,142 log Internal Server Error: /api/v1/strategies/rule-based/
Traceback (most recent call last):
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/apps/strategies/views.py", line 35, in list
    queryset = self.get_queryset()
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/apps/strategies/views.py", line 28, in get_queryset
    models.Q(user=self.request.user) | models.Q(is_public=True)
    ^^^^^^
NameError: name 'models' is not defined
ERROR 2025-12-14 19:49:56,145 basehttp "GET /api/v1/strategies/rule-based/ HTTP/1.1" 500 103324
INFO 2025-12-14 19:49:57,737 basehttp "GET /api/v1/strategies/predefined/ HTTP/1.1" 200 97
INFO 2025-12-14 19:49:58,007 basehttp "OPTIONS /api/v1/payments/records HTTP/1.1" 200 0
INFO 2025-12-14 19:49:58,007 basehttp "OPTIONS /api/v1/payments/records HTTP/1.1" 200 0
INFO 2025-12-14 19:49:58,009 basehttp "OPTIONS /api/v1/payments/records/ HTTP/1.1" 200 0
INFO 2025-12-14 19:49:58,010 basehttp "OPTIONS /api/v1/payments/records/ HTTP/1.1" 200 0
ERROR 2025-12-14 19:49:58,563 log Internal Server Error: /api/v1/strategies/rule-based/
Traceback (most recent call last):
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/apps/strategies/views.py", line 35, in list
    queryset = self.get_queryset()
  File "/Users/chat360team/Documents/papertrade/papertrade-backend/apps/strategies/views.py", line 28, in get_queryset
    models.Q(user=self.request.user) | models.Q(is_public=True)
    ^^^^^^
NameError: name 'models' is not defined
ERROR 2025-12-14 19:49:58,565 basehttp "GET /api/v1/strategies/rule-based/ HTTP/1.1" 500 103324
INFO 2025-12-14 19:49:58,837 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:49:59,891 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:50:01,162 basehttp "GET /api/v1/payments/records/ HTTP/1.1" 200 97
INFO 2025-12-14 19:50:02,179 basehttp "GET /api/v1/payments/records/ HTTP/1.1" 200 97
INFO 2025-12-14 19:50:08,961 basehttp "OPTIONS /api/v1/notifications HTTP/1.1" 200 0
INFO 2025-12-14 19:50:08,962 basehttp "OPTIONS /api/v1/notifications HTTP/1.1" 200 0
INFO 2025-12-14 19:50:08,965 basehttp "OPTIONS /api/v1/notifications/ HTTP/1.1" 200 0
INFO 2025-12-14 19:50:08,965 basehttp "OPTIONS /api/v1/notifications/ HTTP/1.1" 200 0
INFO 2025-12-14 19:50:11,766 basehttp "GET /api/v1/notifications/ HTTP/1.1" 200 97
INFO 2025-12-14 19:50:12,787 basehttp "GET /api/v1/notifications/ HTTP/1.1" 200 97
INFO 2025-12-14 19:51:25,317 basehttp "GET /api/v1/backtest/runs/ HTTP/1.1" 200 97
INFO 2025-12-14 19:51:26,342 basehttp "GET /api/v1/backtest/runs/ HTTP/1.1" 200 97
INFO 2025-12-14 19:51:32,951 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:51:33,976 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:51:35,439 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:51:36,436 basehttp "GET /api/v1/notifications/?limit=5 HTTP/1.1" 200 97
INFO 2025-12-14 19:52:32,191 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:52:35,350 basehttp "GET /api/v1/stocks/2/ HTTP/1.1" 200 399
INFO 2025-12-14 19:52:36,178 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:52:36,981 basehttp "GET /api/v1/stocks/2/ HTTP/1.1" 200 399
INFO 2025-12-14 19:52:39,040 basehttp "GET /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 4194
INFO 2025-12-14 19:52:42,738 basehttp "GET /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 4194
INFO 2025-12-14 19:54:23,447 basehttp "GET /api/v1/auth/profile HTTP/1.1" 200 419
INFO 2025-12-14 19:54:25,566 basehttp "GET /api/v1/stocks/2/ HTTP/1.1" 200 399
INFO 2025-12-14 19:54:27,223 basehttp "GET /api/v1/stocks/2/ HTTP/1.1" 200 399
INFO 2025-12-14 19:54:27,257 basehttp "GET /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 4194
INFO 2025-12-14 19:54:32,310 basehttp "GET /api/v1/stocks/prices/daily/?stock_id=2&days=30 HTTP/1.1" 200 4194
INFO 2025-12-14 19:54:34,165 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
INFO 2025-12-14 19:54:36,883 basehttp "GET /api/v1/stocks/ HTTP/1.1" 200 1067
